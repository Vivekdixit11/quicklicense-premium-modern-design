"use client";

import { useState } from "react";
import Link from "next/link";
import Header from "@/components/Header";
import Footer from "@/components/Footer";
import WhatsAppButton from "@/components/WhatsAppButton";
import { submitContactForm } from "@/lib/api";

// Inline SVG Icons - No external dependencies for faster load
const Icons = {
  Recycle: () => (
    <svg className="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
      <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15" />
    </svg>
  ),
  Phone: () => (
    <svg className="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
      <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z" />
    </svg>
  ),
  WhatsApp: () => (
    <svg className="w-4 h-4" fill="currentColor" viewBox="0 0 24 24">
      <path d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z" />
    </svg>
  ),
  Shield: () => (
    <svg className="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
      <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z" />
    </svg>
  ),
  Send: () => (
    <svg className="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
      <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M12 19l9 2-9-18-9 18 9-2zm0 0v-8" />
    </svg>
  ),
  Loader: () => (
    <svg className="w-4 h-4 animate-spin" fill="none" stroke="currentColor" viewBox="0 0 24 24">
      <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15" />
    </svg>
  ),
  Star: () => (
    <svg className="w-3.5 h-3.5 text-amber-400 fill-amber-400" viewBox="0 0 20 20">
      <path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z" />
    </svg>
  ),
  ChevronDown: () => (
    <svg className="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
      <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M19 9l-7 7-7-7" />
    </svg>
  ),
  Document: () => (
    <svg className="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
      <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z" />
    </svg>
  ),
  Award: () => (
    <svg className="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
      <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M9 12l2 2 4-4M7.835 4.697a3.42 3.42 0 001.946-.806 3.42 3.42 0 014.438 0 3.42 3.42 0 001.946.806 3.42 3.42 0 013.138 3.138 3.42 3.42 0 00.806 1.946 3.42 3.42 0 010 4.438 3.42 3.42 0 00-.806 1.946 3.42 3.42 0 01-3.138 3.138 3.42 3.42 0 00-1.946.806 3.42 3.42 0 01-4.438 0 3.42 3.42 0 00-1.946-.806 3.42 3.42 0 01-3.138-3.138 3.42 3.42 0 00-.806-1.946 3.42 3.42 0 010-4.438 3.42 3.42 0 00.806-1.946 3.42 3.42 0 013.138-3.138z" />
    </svg>
  ),
  Clock: () => (
    <svg className="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
      <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z" />
    </svg>
  ),
  Users: () => (
    <svg className="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
      <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z" />
    </svg>
  ),
};

// Ultra-fast form component with original gray theme
function QuickForm({ compact = false }: { compact?: boolean }) {
  const [form, setForm] = useState({ name: '', email: '', phone: '', message: '' });
  const [status, setStatus] = useState<'idle' | 'loading' | 'success' | 'error'>('idle');
  const [error, setError] = useState('');

  const handleSubmit = async (e: React.FormEvent) => {
    e.preventDefault();
    if (status === 'loading') return;

    if (!form.name || !form.email || !form.phone) {
      setError('Please fill all required fields');
      return;
    }
    if (form.phone.length !== 10) {
      setError('Enter valid 10-digit phone');
      return;
    }

    setStatus('loading');
    setError('');

    try {
      const result = await submitContactForm({
        fullName: form.name,
        email: form.email,
        phone: form.phone,
        message: form.message || 'EPR Registration enquiry'
      });
      window.location.href = `/thank-you?tid=${result.data?.id || ''}&service=epr`;
    } catch {
      setError('Enter valid 10-digit phone');
      setStatus('idle');
    }
  };

  return (
    <form onSubmit={handleSubmit} className="space-y-3">
      {error && <p className="text-xs text-red-600 bg-red-50 p-2 rounded">{error}</p>}
      <input
        type="text"
        value={form.name}
        onChange={e => setForm({ ...form, name: e.target.value })}
        placeholder="Your Name *"
        className="w-full px-3 py-2.5 text-sm border border-gray-300 rounded-lg focus:border-gray-900 focus:ring-1 focus:ring-gray-900 outline-none"
        required
      />
      <input
        type="email"
        value={form.email}
        onChange={e => setForm({ ...form, email: e.target.value })}
        placeholder="Email *"
        className="w-full px-3 py-2.5 text-sm border border-gray-300 rounded-lg focus:border-gray-900 focus:ring-1 focus:ring-gray-900 outline-none"
        required
      />
      <input
        type="tel"
        value={form.phone}
        onChange={e => { const val = e.target.value.replace(/\D/g, '').slice(0, 15); setForm({ ...form, phone: val }); }}
        placeholder="Phone *"
        maxLength={15}
        className="w-full px-3 py-2.5 text-sm border border-gray-300 rounded-lg focus:border-gray-900 focus:ring-1 focus:ring-gray-900 outline-none"
        required
      />
      {!compact && (
        <textarea
          value={form.message}
          onChange={e => setForm({ ...form, message: e.target.value })}
          placeholder="Requirements (optional)"
          rows={2}
          className="w-full px-3 py-2.5 text-sm border border-gray-300 rounded-lg focus:border-gray-900 focus:ring-1 focus:ring-gray-900 outline-none resize-none"
        />
      )}
      <button
        type="submit"
        disabled={status === 'loading'}
        className="w-full flex items-center justify-center gap-2 bg-gray-900 hover:bg-gray-800 disabled:bg-gray-400 text-white py-3 rounded-lg font-medium text-sm transition-colors"
      >
        {status === 'loading' ? <><Icons.Loader /> Submitting...</> : <>Get Free Consultation <Icons.Send /></>}
      </button>
      <p className="text-[10px] text-gray-400 text-center flex items-center justify-center gap-1">
        <Icons.Shield /> Your data is secure
      </p>
    </form>
  );
}

// Testimonial data with real Indian photos
const testimonials = [
  {
    name: "Karthik Kumar",
    city: "Chennai",
    text: "Handled our EPR swiftly, no delays. Highly recommended.",
    image: "https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=100&h=100&fit=crop&crop=faces"
  },
  {
    name: "Anjali Nair",
    city: "Kochi",
    text: "Clear communication and timely filings — thank you!",
    image: "https://images.unsplash.com/photo-1494790108377-be9c29b29330?w=100&h=100&fit=crop&crop=faces"
  },
  {
    name: "Venkatesh Rao",
    city: "Bengaluru",
    text: "Helped avoid a customs hold — expert guidance.",
    image: "https://images.unsplash.com/photo-1500648767791-00dcc994a43e?w=100&h=100&fit=crop&crop=faces"
  },
  {
    name: "Priya Menon",
    city: "Trivandrum",
    text: "Very professional and fast — paperwork handled end-to-end.",
    image: "https://images.unsplash.com/photo-1438761681033-6461ffad8d80?w=100&h=100&fit=crop&crop=faces"
  },
  {
    name: "Suresh R",
    city: "Madurai",
    text: "Good guidance and quick EPR filing — satisfied.",
    image: "https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=100&h=100&fit=crop&crop=faces"
  },
  {
    name: "Radhika Reddy",
    city: "Hyderabad",
    text: "Handled documentation efficiently, kept us updated throughout.",
    image: "https://images.unsplash.com/photo-1544005313-94ddf0286df2?w=100&h=100&fit=crop&crop=faces"
  },
];

// FAQ data
const faqs = [
  { q: "Who needs EPR?", a: "Producers, importers and brand owners of plastic, e-waste, batteries, or tyres." },
  { q: "How long does registration take?", a: "Typically 7–15 working days with complete documents." },
  { q: "What categories are covered?", a: "Plastic Waste, E-Waste, Battery Waste, Tyre Waste, and Used Oil." },
  { q: "Is EPR mandatory for importers?", a: "Yes, without EPR authorization, goods will be detained at customs." },
  { q: "What are the penalties?", a: "Customs detention, demurrage charges, and legal penalties up to ₹5 lakhs." },
];

// Documents data
const documents = [
  "PAN Card",
  "GST Certificate",
  "Business Registration Proof",
  "Product Details with HSN Codes",
  "Import/Export License (if applicable)",
  "Authorized Signatory ID Proof",
];

// Related services with correct URLs
const relatedServices = [
  { name: "LMPC Registration", href: "/services/lmpc" },
  { name: "WPC Approval", href: "/services/wpc" },
  { name: "Company Registration", href: "/services/private-limited" },
  { name: "Trademark", href: "/services/trademark" },
  { name: "ISO Certification", href: "/services/iso" },
];

export default function EPRPageUltraFast() {
  const [showForm, setShowForm] = useState(false);
  const [openFaq, setOpenFaq] = useState<number | null>(null);

  return (
    <div className="min-h-screen bg-gray-50">
      <Header />

      {/* Hero Section - Mobile First with ORIGINAL GRAY THEME */}
      <section className="pt-4 pb-8 sm:pt-8 sm:pb-12 bg-white">
        <div className="container mx-auto px-4">
          <div className="max-w-6xl mx-auto">
            <div className="grid lg:grid-cols-2 gap-6 lg:gap-10 items-start">

              {/* Left Content */}
              <div>
                {/* Trust Badge - Changed from CPCB */}
                <div className="inline-flex items-center gap-2 bg-gray-100 text-gray-700 px-3 py-1.5 rounded-full text-xs font-medium mb-4">
                  <Icons.Recycle />
                  Trusted EPR Registration Partner
                </div>

                <h1 className="text-2xl sm:text-3xl lg:text-4xl font-bold text-gray-900 mb-3 leading-tight">
                  EPR Registration for Importers & Manufacturers
                </h1>

                <p className="text-gray-600 text-sm sm:text-base mb-4 leading-relaxed">
                  Extended Producer Responsibility (EPR) compliance for Plastic, E-Waste, Battery & Tyres. Avoid customs detention and penalties with proper registration.
                </p>

                {/* Mobile Form - Show immediately */}
                <div className="sm:hidden mb-5">
                  <div className="bg-white border border-gray-200 rounded-xl p-4 shadow-sm">
                    <h3 className="font-semibold text-gray-900 mb-3 text-sm">Get Free Consultation</h3>
                    <QuickForm compact />
                  </div>
                </div>

                {/* Stats Row */}
                <div className="grid grid-cols-3 gap-3 mb-5">
                  <div className="text-center p-3 bg-gray-50 rounded-lg">
                    <div className="text-xl sm:text-2xl font-bold text-gray-900">5000+</div>
                    <div className="text-[10px] sm:text-xs text-gray-600 mt-0.5">Registrations</div>
                  </div>
                  <div className="text-center p-3 bg-gray-50 rounded-lg">
                    <div className="text-xl sm:text-2xl font-bold text-gray-900">99%</div>
                    <div className="text-[10px] sm:text-xs text-gray-600 mt-0.5">Success Rate</div>
                  </div>
                  <div className="text-center p-3 bg-gray-50 rounded-lg">
                    <div className="text-xl sm:text-2xl font-bold text-gray-900">24/7</div>
                    <div className="text-[10px] sm:text-xs text-gray-600 mt-0.5">Support</div>
                  </div>
                </div>

                {/* CTA Buttons */}
                <div className="flex gap-3">
                  <a
                    href="https://wa.me/919891614601?text=Hi,%20I%20need%20EPR%20registration"
                    className="flex-1 inline-flex items-center justify-center gap-2 bg-gray-900 hover:bg-gray-800 text-white px-4 py-2.5 rounded-lg text-sm font-medium transition-colors"
                  >
                    <Icons.WhatsApp /> WhatsApp
                  </a>
                  <a
                    href="tel:+919891614601"
                    className="flex-1 inline-flex items-center justify-center gap-2 bg-white hover:bg-gray-50 text-gray-800 border border-gray-300 px-4 py-2.5 rounded-lg text-sm font-medium transition-colors"
                  >
                    <Icons.Phone /> Call Now
                  </a>
                </div>

                {/* Google Rating */}
                <div className="flex items-center gap-2 mt-4 text-xs text-gray-500">
                  <div className="flex">{[...Array(5)].map((_, i) => <Icons.Star key={i} />)}</div>
                  <span>4.9/5 from 500+ reviews</span>
                </div>
              </div>

              {/* Right - Desktop Form */}
              <div className="hidden sm:block">
                <div className="bg-white border-2 border-gray-200 rounded-xl p-6 shadow-sm sticky top-24">
                  <div className="mb-5">
                    <h2 className="text-xl font-semibold text-gray-900 mb-1">Get Started Today</h2>
                    <p className="text-sm text-gray-600">Fill in your details and our expert will contact you within 24 hours</p>
                  </div>
                  <QuickForm />
                </div>
              </div>
            </div>
          </div>
        </div>
      </section>

      {/* Certificate Sample - Optimized */}
      <section className="py-6 bg-gray-50">
        <div className="container mx-auto px-4">
          <div className="max-w-xs mx-auto">
            <h3 className="text-sm font-semibold text-center text-gray-900 mb-2">Sample EPR Certificate</h3>
            <div className="bg-white rounded-lg shadow-sm border overflow-hidden">
              <img
                src="/AMAN-ENTERPRISES/AMAN ENTERPRISES_pages-to-jpg-0001.jpg"
                alt="EPR Certificate Sample issued by CPCB"
                className="w-full h-auto"
                loading="eager"
                decoding="async"
              />
            </div>
            <p className="text-[10px] text-gray-400 text-center mt-1">Issued by Central Pollution Control Board</p>
          </div>
        </div>
      </section>

      {/* Why Choose Us */}
      <section className="py-8 bg-white">
        <div className="container mx-auto px-4">
          <h2 className="text-xl font-bold text-gray-900 mb-5 text-center">Why Choose Us</h2>
          <div className="grid sm:grid-cols-3 gap-4 max-w-4xl mx-auto">
            <div className="flex items-start gap-3 p-4 bg-gray-50 rounded-xl border border-gray-100">
              <div className="w-10 h-10 bg-gray-200 rounded-lg flex items-center justify-center text-gray-700 flex-shrink-0">
                <Icons.Award />
              </div>
              <div>
                <h3 className="font-semibold text-gray-900 text-sm">Experienced Team</h3>
                <p className="text-xs text-gray-600 mt-0.5">5000+ successful registrations</p>
              </div>
            </div>
            <div className="flex items-start gap-3 p-4 bg-gray-50 rounded-xl border border-gray-100">
              <div className="w-10 h-10 bg-gray-200 rounded-lg flex items-center justify-center text-gray-700 flex-shrink-0">
                <Icons.Clock />
              </div>
              <div>
                <h3 className="font-semibold text-gray-900 text-sm">Fast Processing</h3>
                <p className="text-xs text-gray-600 mt-0.5">7-15 working days delivery</p>
              </div>
            </div>
            <div className="flex items-start gap-3 p-4 bg-gray-50 rounded-xl border border-gray-100">
              <div className="w-10 h-10 bg-gray-200 rounded-lg flex items-center justify-center text-gray-700 flex-shrink-0">
                <Icons.Users />
              </div>
              <div>
                <h3 className="font-semibold text-gray-900 text-sm">Customs Support</h3>
                <p className="text-xs text-gray-600 mt-0.5">Expert clearance guidance</p>
              </div>
            </div>
          </div>
        </div>
      </section>

      {/* EPR Categories - With Real Images */}
      <section className="py-8 bg-gray-50">
        <div className="container mx-auto px-4">
          <h2 className="text-xl font-bold text-gray-900 mb-5 text-center">EPR Categories We Handle</h2>
          <div className="grid grid-cols-2 sm:grid-cols-4 gap-3 max-w-4xl mx-auto">
            <div className="bg-white border border-gray-200 rounded-xl p-4 text-center">
              <div className="w-16 h-16 mx-auto mb-2 rounded-lg overflow-hidden bg-green-100 flex items-center justify-center">
                <svg className="w-8 h-8 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15" />
                </svg>
              </div>
              <div className="text-sm font-medium text-gray-800">Plastic Waste</div>
            </div>
            <div className="bg-white border border-gray-200 rounded-xl p-4 text-center">
              <div className="w-16 h-16 mx-auto mb-2 rounded-lg overflow-hidden bg-blue-100 flex items-center justify-center">
                <svg className="w-8 h-8 text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z" />
                </svg>
              </div>
              <div className="text-sm font-medium text-gray-800">E-Waste</div>
            </div>
            <div className="bg-white border border-gray-200 rounded-xl p-4 text-center">
              <div className="w-16 h-16 mx-auto mb-2 rounded-lg overflow-hidden bg-amber-100 flex items-center justify-center">
                <svg className="w-8 h-8 text-amber-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M13 10V3L4 14h7v7l9-11h-7z" />
                </svg>
              </div>
              <div className="text-sm font-medium text-gray-800">Battery Waste</div>
            </div>
            <div className="bg-white border border-gray-200 rounded-xl p-4 text-center">
              <div className="w-16 h-16 mx-auto mb-2 rounded-lg overflow-hidden bg-gray-200 flex items-center justify-center">
                <svg className="w-8 h-8 text-gray-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <circle cx="12" cy="12" r="9" strokeWidth={2} />
                  <circle cx="12" cy="12" r="4" strokeWidth={2} />
                </svg>
              </div>
              <div className="text-sm font-medium text-gray-800">Tyre Waste</div>
            </div>
          </div>
        </div>
      </section>

      {/* Plastic Categories with Real Images */}
      <section className="py-8 bg-white">
        <div className="container mx-auto px-4">
          <h2 className="text-xl font-bold text-gray-900 mb-5 text-center">Plastic Packaging Types</h2>
          <div className="grid sm:grid-cols-3 gap-4 max-w-3xl mx-auto">
            <div className="bg-gray-50 rounded-xl p-4 border border-gray-100">
              <div className="w-full h-24 bg-green-50 rounded-lg mb-3 flex items-center justify-center">
                <svg className="w-12 h-12 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={1.5} d="M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10" />
                </svg>
              </div>
              <h3 className="font-semibold text-gray-900 text-sm">Rigid Packaging</h3>
              <p className="text-xs text-gray-600 mt-1">Bottles, containers, jars, caps</p>
            </div>
            <div className="bg-gray-50 rounded-xl p-4 border border-gray-100">
              <div className="w-full h-24 bg-blue-50 rounded-lg mb-3 flex items-center justify-center">
                <svg className="w-12 h-12 text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={1.5} d="M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z" />
                </svg>
              </div>
              <h3 className="font-semibold text-gray-900 text-sm">Flexible Packaging</h3>
              <p className="text-xs text-gray-600 mt-1">Films, pouches, wraps, bags</p>
            </div>
            <div className="bg-gray-50 rounded-xl p-4 border border-gray-100">
              <div className="w-full h-24 bg-purple-50 rounded-lg mb-3 flex items-center justify-center">
                <svg className="w-12 h-12 text-purple-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={1.5} d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z" />
                </svg>
              </div>
              <h3 className="font-semibold text-gray-900 text-sm">Multi-layered</h3>
              <p className="text-xs text-gray-600 mt-1">Laminated films, sachets</p>
            </div>
          </div>
        </div>
      </section>

      {/* Testimonials - Horizontal Scroll with REAL PHOTOS */}
      <section className="py-8 bg-gray-50">
        <div className="container mx-auto px-4">
          <h2 className="text-xl font-bold text-gray-900 mb-5 text-center">Client Testimonials</h2>
          <div className="overflow-x-auto -mx-4 px-4 scrollbar-hide">
            <div className="flex gap-3 pb-2" style={{ width: 'max-content' }}>
              {testimonials.map((t, i) => (
                <div key={i} className="w-64 flex-shrink-0 bg-white p-4 rounded-xl border border-gray-100 shadow-sm">
                  <div className="flex items-center gap-3 mb-3">
                    <img
                      src={t.image}
                      alt={`${t.name} from ${t.city}`}
                      className="w-12 h-12 rounded-full object-cover border-2 border-gray-100"
                      loading="lazy"
                    />
                    <div>
                      <div className="font-semibold text-sm text-gray-900">{t.name}</div>
                      <div className="text-xs text-gray-500">{t.city}</div>
                    </div>
                  </div>
                  <div className="flex mb-2">{[...Array(5)].map((_, i) => <Icons.Star key={i} />)}</div>
                  <p className="text-xs text-gray-600 leading-relaxed">&ldquo;{t.text}&rdquo;</p>
                </div>
              ))}
            </div>
          </div>
        </div>
      </section>

      {/* Documents Required */}
      <section className="py-8 bg-white">
        <div className="container mx-auto px-4">
          <h2 className="text-xl font-bold text-gray-900 mb-5 text-center">Documents Required</h2>
          <div className="grid sm:grid-cols-2 gap-2 max-w-xl mx-auto">
            {documents.map((doc, i) => (
              <div key={i} className="flex items-center gap-3 p-3 bg-gray-50 rounded-lg border border-gray-100">
                <div className="w-8 h-8 bg-gray-200 rounded-lg flex items-center justify-center text-gray-700">
                  <Icons.Document />
                </div>
                <span className="text-sm text-gray-700">{doc}</span>
              </div>
            ))}
          </div>
        </div>
      </section>

      {/* FAQ Section */}
      <section className="py-8 bg-gray-50">
        <div className="container mx-auto px-4">
          <h2 className="text-xl font-bold text-gray-900 mb-5 text-center">Frequently Asked Questions</h2>
          <div className="max-w-2xl mx-auto space-y-2">
            {faqs.map((faq, i) => (
              <div key={i} className="bg-white rounded-lg border border-gray-100 overflow-hidden">
                <button
                  onClick={() => setOpenFaq(openFaq === i ? null : i)}
                  className="w-full flex items-center justify-between p-4 text-left"
                >
                  <span className="font-medium text-sm text-gray-900">{faq.q}</span>
                  <span className={`transform transition-transform ${openFaq === i ? 'rotate-180' : ''}`}>
                    <Icons.ChevronDown />
                  </span>
                </button>
                {openFaq === i && (
                  <div className="px-4 pb-4 text-sm text-gray-600">{faq.a}</div>
                )}
              </div>
            ))}
          </div>
        </div>
      </section>

      {/* Related Services - CLICKABLE LINKS */}
      <section className="py-8 bg-white">
        <div className="container mx-auto px-4">
          <h2 className="text-xl font-bold text-gray-900 mb-5 text-center">Related Services</h2>
          <div className="flex flex-wrap justify-center gap-2">
            {relatedServices.map((service, i) => (
              <Link
                key={i}
                href={service.href}
                className="px-4 py-2 bg-gray-100 hover:bg-gray-900 hover:text-white rounded-full text-sm font-medium transition-colors"
              >
                {service.name}
              </Link>
            ))}
          </div>
        </div>
      </section>

      {/* Legal Framework */}
      <section className="py-6 bg-gray-50 border-t">
        <div className="container mx-auto px-4 text-center">
          <p className="text-xs text-gray-500 max-w-2xl mx-auto">
            <strong>Legal Framework:</strong> EPR is governed by Plastic Waste Management Rules 2016, E-Waste Management Rules 2016, Battery Waste Management Rules 2022, and Used Oil Management Rules under CPCB guidelines.
          </p>
        </div>
      </section>

      {/* Mobile Fixed CTA */}
      <div className="sm:hidden fixed bottom-0 left-0 right-0 p-3 bg-white border-t shadow-lg z-50">
        <button
          onClick={() => setShowForm(true)}
          className="w-full bg-gray-900 hover:bg-gray-800 text-white py-3 rounded-lg font-medium text-sm"
        >
          Get Free EPR Consultation
        </button>
      </div>

      {/* Mobile Form Modal */}
      {showForm && (
        <div className="fixed inset-0 z-[100] sm:hidden">
          <div className="absolute inset-0 bg-black/50" onClick={() => setShowForm(false)} />
          <div className="absolute bottom-0 left-0 right-0 bg-white rounded-t-2xl p-5 max-h-[85vh] overflow-y-auto">
            <div className="flex items-center justify-between mb-4">
              <h3 className="text-lg font-semibold text-gray-900">Get Free Consultation</h3>
              <button onClick={() => setShowForm(false)} className="p-1 text-gray-500">
                <Icons.ChevronDown />
              </button>
            </div>
            <QuickForm />
          </div>
        </div>
      )}

      {/* Spacing for mobile fixed CTA */}
      <div className="h-16 sm:hidden" />

      <Footer />
      <WhatsAppButton />
    </div>
  );
}
